%!TEX program = xelatex
%!TEX root = Algebra_1.tex
\chapter{Funções}

\begin{definicao}
Uma \textbf{função} $f : A \to B$, de um conjunto $A$ em um conjunto $B$, é uma relação que associa os elementos de $A$ com os elementos em $B$ satisfazendo as seguintes condições:
    \begin{enumerate}[label={\roman*})]
        \item Para todo $x \in A$, existe $y \in B$ tal que $f(x) = y$.
        \item  Se $x \in A$ é tal que $f(x) = y_1$ e $f(x) = y_2$ com $y_1$, $y_2 \in B$, então $y_1 = y_2$.
    \end{enumerate}
Nesse caso $y$ é chamado de \textbf{imagem} de $x$ segundo $f$.
\end{definicao}

O conjunto $A$ é chamado de \textbf{domínio} de $f$ e será denotado por $\dom(f)$. O conjunto $B$ é chamado de \textbf{contra-domínio} de $f$. O conjunto
\[
    \im(f) = \{f(x) \mid x \in A\} \sub B
\]
é chamado \textbf{imagem} de $f$.

\begin{exemplos}
    \begin{enumerate}[label={\arabic*})]
        \item Sejam $A = \{0,1,2,3\}$ e $B = \{4,5,6,7,8\}$. Quais das seguintes relações são funções?
            \begin{enumerate}[label={\alph*})]
                \item $R_1 = \{(0,5),(1,6),(2,7)\}$

                \item $R_2 = \{(0,4),(1,5),(1,6),(2,7),(3,8)\}$

                \item $R_3 = \{(0,4),(1,5),(2,7),(3,8)\}$

                \item $R_4 = \{(0,5),(1,5),(2,6),(3,7)\}$
            \end{enumerate}

            \begin{solucao}
                \begin{enumerate}[label={\alph*})]
                    \item Não é função pois $3 \in A$ e $3$ não está associado à nenhum elemento de $B$.

                    \item Não é função pois $1 \in A$ está associado a dois elementos diferentes em $B$.

                    \item É uma função.

                    \item É uma função.
                \end{enumerate}
            \end{solucao}

        \item $R_{5} = \{(x,y) \in \real  \times \real  \mid y^2 = x^2\}$
            \begin{solucao}
                 Não é função pois, por exemplo, para $x = 1$ temos $y = -1$ ou $y = 1$.
            \end{solucao}

        \item $R_{6} = \{(x,y) \in \real  \times \real  \mid x^2 + y^2 = 1\}$.
            \begin{solucao}
                 Não é função pois, por exemplo, para $x = 0$ temos $y = 1$ ou $y = -1$.
             \end{solucao}

        \item $R_{7} = \{(x,y) \in \real  \times \real \mid y = x^2\}$
            \begin{solucao}
                 É uma função.
            \end{solucao}
    \end{enumerate}
\end{exemplos}


\begin{definicao}
    Seja $f : A \to B$ uma função.
    \begin{enumerate}[label={\roman*})]
        \item Dizemos que $f$ é \textbf{injetora} se dados $x_1$, $x_2 \in A$ tais que $f(x_1) = f(x_2)$, então $x_1 = x_2$. De modo equivalente, dizemos que $f$ e \textbf{injetora} se dados $x_1$, $x_2 \in A$ tais que $x_1 \ne x_2$, então $f(x_1) \ne f(x_2)$.

        \item Dizemos que $f$ é \textbf{sobrejetora} se para todo $y \in B$, existe $x \in A$ tal que $f(x) = y$.

        \item Dizemos que $f$ e \textbf{bijetora} se $f$ for \textbf{injetora} e \textbf{sobrejetora} simultaneamente.
    \end{enumerate}
\end{definicao}

\begin{exemplos}
    Verifique se as seguintes funções são injetoras ou sobrejetoras:
    \begin{enumerate}[label={\arabic*})]
        \item $f : \z \to \z$ dada por $f(x) = 3x + 1$
            \begin{solucao}
                De fato, dados $x_1$, $x_2 \in \z$ tais que $f(x_1) = f(x_2)$ temos
                \begin{align*}
                    f(x_1) &= f(x_2)\\
                    3x_1 + 1 &= 3x_2 + 1\\
                    3x_1 &= 3x_2\\
                    3(x_1 - x_2) &= 0.
                \end{align*}
                Assim $x_1 - x_2 = 0$, isto é, $x_1 = x_2$. Logo $f$ é injetora.

                Para determinar se $f$ é sobrejetora seja $y \in \z$. Precisamos determinar se é possível encontrar algum $x \in \z$ tal que $f(x) = y$. Ou seja, precisamos saber se a equação $3x + 1 = y$ tem solução em $\z$ para qualquer valor de $y$.

                Se tomarmos $y = 2$ temos
                \begin{align*}
                    3x + 1 &= 2\\
                    3x = 1
                \end{align*}
                e essa última equação não possui solução em $\z$. Logo para $y = 2$ \textbf{não} existe $x \in \z$ de modo que $f(x) = 2$. Logo $f$ não é sobrejetora.
            \end{solucao}

        \item $g : \rac \to \rac$ dada por $f(x) = 3x + 1$
            \begin{solucao}
                A prova que $g$ é injetora é idêntica ao caso anterior.

                Para determinar se $g$ é sobrejetora seja $y \in \rac$. Precisamos determinar se é possível encontrar algum $x \in \rac$ tal que $g(x) = y$. Ou seja, precisamos saber se a equação $3x + 1 = y$ tem solução em $\rac$ para qualquer valor de $y$. Mas
                \begin{align*}
                    &3x + 1 = y\\
                    &3x = y - 1\\
                    &x = \dfrac{y - 1}{3} \in \rac
                \end{align*}
                para qualquer valor de $y \in \rac$. Assim dado $y \in \rac$ tome $x = (y - 1)/3 \in \rac$. Daí
                \[
                    g(x) = g\left(\dfrac{y - 1}{3}\right) = 3\left(\dfrac{y - 1}{3}\right) + 1 = y - 1 + 1 = y.
                \]
                Logo $g$ é sobrejetora.
            \end{solucao}

        \item A função $h :\real \to \real$ dada por $h(x) = x^2$
            \begin{solucao}
                A função $h$ não é injetora pois, por exemplo, $h(-1) = 1 = h(1)$ e $1\neq -1$.

                A função $h$ não é sobrejetora pois, por exemplo, para $y = -1$ \textbf{não} existe $x\in\mathbb{R}$ tal que $h(x) = -1$.
            \end{solucao}
        \end{enumerate}
\end{exemplos}

\begin{definicao}
    Sejam $f : A \to B$ e $g : B \to C$ funções. Definimos a \textbf{função composta} de $g$ com $f$ como sendo a função denotada por $g \circ f : A \to C$ tal que $(g\circ f)(x) = g(f(x))$ para todo $x \in A$.
    \begin{tikzpicture}
       \begin{scope}[x=3cm, y=1cm]
            \node[ellipse,
            draw = brown,
            rotate=90,
            fill = cyan!20,
            label=right:{$A$},
            minimum width = 4cm,
            minimum height = 2cm] (e) at (-2,0) {};
            \node[bullet,label=above:$x$] (x) at (-2,0) {};
            \node[ellipse,
            draw = brown,
            rotate=90,
            label={right:$B$},
            fill = cyan!20,
            minimum width = 4cm,
            minimum height = 2cm] (B) at (0,0) {};
            \draw [->,red] (-1.9, 2.3) to [out=30,in=150] (-0.1, 2.3);
            \node[label=above:$f$] (f) at (-1, 3) {};
            \node[bullet,label=above:$f(x)$] (fx) at (0,0) {};
            \node[ellipse,
            draw = brown,
            rotate=90,
            label={right:$C$},
            fill = cyan!20,
            minimum width = 4cm,
            minimum height = 2cm] (C) at (2,0) {};
            \node[bullet,label=above:$g(f(x))$] (gfx) at (2,0) {};
            \draw [->,blue] (0.1,2.3) to [out=30,in=150] (1.9, 2.3);
            \node[label=above:$g$] (g) at (1, 3) {};
            \draw [->,red, dashed] (x) to [out=30,in=150] (fx);
            \draw [->,blue, dashed] (fx) to [out=30,in=150] (gfx);
            \draw [->,orange] (x) to [out=-50,in=-130] (gfx);
            \node[label=above:$g\circ f$] (gf) at (0,-3.5) {};
        \end{scope}
    \end{tikzpicture}
\end{definicao}

\begin{exemplos}
    \begin{enumerate}[label={\arabic*})]
        \item Sejam $f : \real \to \real$ e $g : \real \to \real$ dadas por $f(x) = x^2$ e $g(x) = x + 1$. Assim podemos definir $g \circ f$ e $f \circ g$ e
        \begin{align*}
            (g\circ f)(x) = g(f(x)) = g(x^2) = x^2 + 1\\
            (f\circ g)(x) = f(g(x)) = f(x + 1) = (x + 1)^2
        \end{align*}
        Assim em geral $f \circ g \ne g \circ f$.

        \item $f : \real_- \to \real^*_+$ e $g : \real^*_+ \to \real$ dadas por $f(x) = x^2 + 1$ e $g(x) = \ln x$. Nesse caso só podemos definir $g \circ f : \real_- \to \real$ e
        \[
            (g\circ f)(x) = g(f(x)) = g(x^2 + 1) = \ln(x^2 + 1).
        \]
    \end{enumerate}
\end{exemplos}

\begin{proposicao}\label{composicao_funcoes_injetoras}
    Se $f : A \to B$ e $g : B \to C$ são funções injetoras, então $g\circ f : A \to C$ é injetora.
\end{proposicao}
\begin{prova}
    Dados $x_1$, $x_2 \in A$ tais que $(g\circ f)(x_1) = (g\circ f)(x_2)$ queremos mostrar que $x_1 = x_2$. Temos:
    \begin{align*}
        (g\circ f)(x_1) &= (g\circ f)(x_2)\\
        g(f(x_1)) &= g(f(x_2)).
    \end{align*}
    Como por hipótese $g$ é injetora, dessa última igualdade segue que $f(x_1) = f(x_2)$. Mas $f$ também é injetora, por hipótese, daí $x_1 = x_2$, como queríamos. Portanto $g\circ f$ é injetora.
\end{prova}

\begin{proposicao}\label{composicao_funcoes_sobrejetoras}
    Se $f : A \to B$ e $g : B \to C$ são funções sobrejetoras, então $g\circ f : A \to C$ é sobrejetora.
\end{proposicao}
\begin{prova}
     Para mostrar que $g \circ f : A \to C$ é sobrejetora, precisamos mostrar que para todo $y \in C$, existe $x \in A$ tal que $(g\circ f)(x) = y$.

     Assim seja $y \in C$. Como $g : B \to C$ é sobrejetora, existe $z \in B$ tal que $g(z) = y$. Mas $z \in B$ e $f : A \to B$ é sobrejetora e assim existe $x \in A$ tal que $f(x) = z$. Logo
     \[
         (g\circ f)(x) = g(f(x)) = g(z) = y.
     \]
     Portanto $g \circ f$ é sobrejetora.
\end{prova}

Das Proposições \ref{composicao_funcoes_injetoras} e \ref{composicao_funcoes_sobrejetoras} obtemos o seguinte corolário:

\begin{corolario}
    Se $f : A \to B$ e $g : B \to C$ são funções bijetoras, então $g \circ f: A \to C$ é bijetora.
\end{corolario}
\begin{definicao}
    Seja $f : A \to B$ uma função.
    \begin{enumerate}[label={\roman*})]
        \item Dado $P \sub A$, chama-se \textbf{imagem direta} de $P$  \textbf{segundo} $f$ e indica-se por $f(P)$ o subconjunto de $B$ dado por
        \[
            f(P) = \{f(x) \mid x \in P\},
        \]
        isto é, $f(P)$ é o conjunto das imagens por $f$ dos elementos de $P$.

        \item Dado $Q \sub B$, chama-se \textbf{imagem inversa} de $Q$ \textbf{segundo} $f$ e indica-se por $f^{-1}(Q)$ o subconjunto de $A$ dado por
        \[
            f^{-1}(Q) = \{x \in A \mid f(x) \in Q\},
        \]
        isto é, $f^{-1}(Q)$ é o conjunto dos elementos de $A$ que tem imagem em $Q$ através de $f$.
    \end{enumerate}
\end{definicao}

\begin{exemplos}
    \begin{enumerate}[label={\arabic*})]
        \item Seja $A = \{1, 3, 5, 7, 9 \}$ e $B = \{0, 1, 2, 3, \dots, 10\}$ e $f : A \to B$ dada por $f(x) = x + 1$. Temos:
        \begin{itemize}
            \item $f(\{1\}) = \{f(1)\} = \{2\}$

            \item $f(\{3, 5, 7\}) = \{f(3), f(5), f(7)\} = \{4, 6, 8\}$

            \item $f(A) = \{f(1), f(3), f(5), f(7), f(9)\} = \{2, 4, 6, 8, 10\}$

            \item $f(\emptyset) = \emptyset$

            \item $f^{-1}(\{2, 4, 10\}) = \{x \in A \mid f(x) \in \{2, 4, 10\}\} = \{1, 3, 9\}$

            \item $f^{-1}(\{0, 1, 3, 5, 7, 9\}) = \{x \in A \mid f(x) \in \{0, 1, 3, 5, 7, 9\}\} = \emptyset$
        \end{itemize}

        \item Sejam $A = B = \real$ e $f : \real \to \real$ dada por $f(x) = x^2$. Temos:
        \begin{itemize}
            \item $f(\{1, 2, 3\}) = \{1, 4, 9\}$

            \item $f([0,2]) = \{f(x) \in \real \mid 0 \le x \le 2 \} = \{x^2 \mid 0 \le x \le 2\} = [0, 4]$

            \item $f^{-1}([1, 9]) = \{x \in \real \mid f(x) \in [1, 9]\} = \{ x \in \real \mid 1 \le f(x) \le 9\} = \{x \in \real \mid 1 \le x^2 \le 9\} = [-1, -3] \cup [1, 3]$
        \end{itemize}
    \end{enumerate}
\end{exemplos}

\begin{proposicao}
    Seja $f : A \to B$ uma função. Considere conjuntos $P$, $Q \sub A$ e $X$, $Y \sub B$.
    \begin{enumerate}[label={\roman*})]
        \item Se $P \sub Q$, então $f(P) \sub f(Q)$.

        \item $f^{-1}(X \cup Y) = f^{-1}(X) \cup f^{-1}(Y)$.
    \end{enumerate}
\end{proposicao}
\begin{prova}
    \begin{enumerate}[label={\roman*})]
        \item Se $y \in f(P)$, então existe $x \in P$ tal que $f(x) = y$. Mas como $P \sub Q$, então $x \in Q$ e daí $y \in f(Q)$. Logo $f(P) \sub f(Q)$.

        \item Seja $z \in f^{-1}(X \cup Y)$. Então $f(z) \in X \cup Y$. Se $f(z) \in X$, então $z \in f^{-1}(X)$ e daí $z \in f^{-1}(X) \cup f^{-1}(Y)$. Se $f(z) \in Y$, então $z \in f^{-1}(Y)$ e assim $z \in f^{-1}(X) \cup f^{-1}(Y)$. Logo, $f^{-1}(X \cup Y) \sub f^{-1}(X) \cup f^{-1}(Y)$.

        Agora, seja $z \in f^{-1}(X) \cup f^{-1}(Y)$. Se $z \in f^{-1}(X)$, então $f(z) \in X$, daí $f(z) \in X \cup Y$, isto é, $z \in f^{-1}(X \cup Y)$. Se $z \in f^{-1}(Y)$, então $f(z) \in Y$ e assim $f(z) \in X \cup Y$, isto é, $z \in f^{-1}(X \cup Y)$. Logo $f^{-1}(X) \cup f^{-1}(Y) \sub f^{-1}(X \cup Y)$.

        Portanto, $f^{-1}(X \cup Y) = f^{-1}(X) \cup f^{-1}(Y)$.
    \end{enumerate}
\end{prova}


Dado $f : A \to B$ uma função, queremos construir uma função $g : B \to A$ de modo que
\[
    g(f(x)) = x
\]
para todo $x \in A$. Mas $f(x) = y$ com $y \in B$. Assim podemos tentar definir $g$ como
\begin{align}\label{condicao_funcao_inversa}
    g(y) = x,\ y \in B \mbox{ se, e somente se, } f(x) = y.
\end{align}
Com essa definição $g$ é uma função? Vejamos um exemplo: definida $f : \{0,1,2,3\} \to \{4,5,6,7,8\}$ por:
\begin{align*}
    f(0) &= 5\\
    f(1) &= 5\\
    f(2) &= 6\\
    f(3) &= 7.
\end{align*}

A partir da definição \eqref{condicao_funcao_inversa} temos
\begin{align*}
    g(5) &= 0\\
    g(5) &= 1\\
    g(6) &= 2\\
    g(7) &= 3.
\end{align*}

Assim $g$ definida pela condição \eqref{condicao_funcao_inversa} não é uma função pois $g$ atribui ao número 5 dois possíveis valores: 0 e 1. Isso ocorre pois $f$ não é injetora. Vamos então redefinir $f$ de modo a torná-la injetora:
\begin{align*}
    f(0) &= 5\\
    f(1) &= 4\\
    f(2) &= 6\\
    f(3) &= 7.
\end{align*}

Agora $g$ torna-se:
\begin{align*}
    g(5) &= 0\\
    g(4) &= 1\\
    g(6) &= 2\\
    g(7) &= 3.
\end{align*}

Ainda assim $g$ não é função pois $g$ não associa $8 \in B$ com nenhum elemento em $A$. Isso ocorre pois $f$ não é sobrejetora.

Portanto para que a condição \eqref{condicao_funcao_inversa} defina uma função é necessário que $f$ seja bijetora. Temos então o seguinte teorema:

\begin{teorema}\label{teorema_funcao_inversa}
    Seja $f: A \to B$ função. Defina $g : B \to A$ por
    \begin{align}\label{funcao_inversa}
        g(y) = x,\ y \in B \mbox{ se, e somente se, } f(x) = y.
    \end{align}
    Então $g$ é uma função se, e somente se, $f$ é bijetora.
\end{teorema}
\begin{prova}
    Precisamos mostrar que:
    \begin{enumerate}[label={\roman*})]
        \item Se $g$ definida por \eqref{funcao_inversa} é uma função, então $f$ é bijetora.
        \item Se $f$ é bijetora, então $g$ definida por \eqref{funcao_inversa} é uma função.
    \end{enumerate}

    Provemos a primeira afirmação: suponha que $g$ é uma função. Precisamos provar que $f$ é injetora e sobrejetora.

    Sejam $x_1$, $x_2 \in A$ tais que $f(x_1) = y = f(x_2)$. Como $f(x_1) = y$ temos $g(y) = x_1$, além disso, $g(y) = x_2$. Mas $g$ é uma função, daí $x_1 = x_2$, ou seja, $f$ é injetora.

    Dado $y \in B$, como $g$ é uma função, existe $x \in A$, tal que $g(y) = x$, logo $f(x) = y$ e assim $f$ é sobrejetora.

    Portanto $f$ é bijetora.

    Agora vamos provar a segunda afirmação: suponha que $f$ é bijetora. Precisamos mostrar que $g$ é uma função. Primeiramente, dado $y \in B$, como $f$ é sobrejetora, existe $x \in A$ tal que $f(x) = y$. Logo por \eqref{funcao_inversa} segue que $g(y) = x \in A$. Logo $g$ associa cada elemento de $B$ com algum elemento em $A$.

    Suponha que $g(y) = x_1$ e que $g(y) = x_2$. Daí, de \eqref{funcao_inversa} temos $f(x_1) = y$ e $f(x_2) = y$. Mas $f$ é injetora, logo $x_1 = x_2$ e então $g(y) = x_1 = x_2$. Assim $g$ associa cada elemento de $B$ com somente um elemento em $A$.

    Portanto $g$ é função.
\end{prova}


\begin{definicao}
    A função $g : B \to A$ do teorema \ref{teorema_funcao_inversa} é chamada de \textbf{função inversa} de $f : A \to B$ e será denotada por $g = f^{-1}$.
\end{definicao}


\begin{definicao}
    Dado um conjunto $A \ne \emptyset$, a função $i_{A}: A \to A$ dada por $i_{A}(x) = x$ é chamada de \textbf{função identidade}.
\end{definicao}

\begin{proposicao}
    Se $f : A \to B$ é bijetora, então $f\circ f^{-1} = i_{B}$ e $f^{-1}\circ f = i_{A}$.
\end{proposicao}
\begin{prova}
    Temos $i_{B} : B \to B$ e $i_{A} : A \to A$. Além disso, $f\circ f^{-1} : B \to B$ e $f^{-1}\circ f : A \to A$, daí $\dom(f\circ f^{-1}) = \dom(i_{B})$ e $\dom(f^{-1}\circ f) = \dom(i_{A})$. Agora, $y \in B$, $(f\circ f^{-1})(y) = f(f^{-1}(y)) = y = i_{B}(y)$. E se $x \in A$, $(f^{-1}\circ f)(x) = f^{-1}(f(x)) = x = i_{A}(x)$. Portanto $f\circ f^{-1} = i_{B}$ e $f^{-1}\circ f = i_{A}$ como queríamos.
\end{prova}

\begin{proposicao}\label{propriedades_identidade}
    Se $f : A \to B$ e $g : B \to A$ são funções, então:
    \begin{enumerate}[label={\roman*})]
        \item $f\circ i_{A} = f$
        \item $i_{B}\circ f = f$
        \item $g\circ i_{B} = g$
        \item $i_{A}\circ g = g$
        \item Se $g\circ f = i_{A}$ e $f\circ g = i_{B}$, então $f$ e $g$ são bijetoras e $g=f^{-1}$.
    \end{enumerate}
\end{proposicao}
\begin{prova}
    \begin{enumerate}[label={\roman*})]
        \item Primeiro temos $f: A \to B$ e $i_{A} : A \to A$ e $f\circ i_{A} : A \to B$. Assim $\dom(f\circ i_{A}) = \dom(f)$. Agora dado $x \in A$, temos $(f\circ i_{A})(x) = f(i_{A}(x)) = f(x)$. Portanto, $f\circ i_{A} = f$.
        \item Segue de forma semelhante ao caso anteiror.
        \item Segue de forma semelhante ao primeiro caso.
        \item Segue de forma semelhante ao primeiro caso.
        \item Provemos que $f$ é bijetora: sejam $x_1$, $x_2 \in A$ tais que $f(x_1) = f(x_2)$. Como $f : A \to B$ e $g : B \to A$, então $g(f(x_1)) = g(f(x_2))$, ou seja, $(g\circ f)(x_1) = (g\circ f)(x_2)$. Daí, $i_{A}(x_1) = i_{A}(x_2)$. Logo, $x_1 = x_2$. Logo $f$ é injetora.

        Agora, dado $y \in B$, segue que $y = i_{B}(y)$. Mas $i_{B} = f\circ g$. Daí, $y = i_{B}(y) = (f\circ g)(y) = f(g(y))$. Assim, $x = g(y)\in A$ e $f(x) = y$. Logo $f$ é sobrejetora.

        Portanto $f$ é bijetora. Analogamente, prova-se que g é bijetora.

        Provemos agora que $g = f^{-1}$. Para isso, primeiro temos  $f^{-1} : B \to A$ e então $\dom(g) = B = \dom(f^{-1})$. Agora, $f\circ g = i_{B} = f\circ f^{-1}$. Assim, para todo $x \in B$, $(f\circ g)(x) = (f\circ f^{-1})(x)$. Isto é, $f(g(x)) = f(f^{-1}(x))$. Portanto como $f$ é injetora, $g(x) = f^{-1}(x)$ para todo $x\in B$. Logo $g = f^{-1}$ como queríamos.
    \end{enumerate}
\end{prova}
